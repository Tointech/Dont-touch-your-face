(this["webpackJsonpdont-touch-your-face"]=this["webpackJsonpdont-touch-your-face"]||[]).push([[0],{237:function(e,n,t){},243:function(e,n){},244:function(e,n){},252:function(e,n){},255:function(e,n,t){},258:function(e,n,t){"use strict";t.r(n);var r=t(53),c=t.n(r),o=t(208),a=t.n(o),u=(t(237),t(7)),i=t.n(u),s=t(11),f=t(6),l=(t(257),t(230)),d=t(228),b=t(229),h=(t(255),t(149)),j=t.p+"static/media/hey_sound.8c2f8e9b.mp3",p=t(45),v=new b.Howl({src:[j]}),g="touched";var O=function(){var e=Object(r.useRef)(),n=Object(r.useRef)(),t=Object(r.useRef)(!0),c=Object(r.useRef)(),o=Object(r.useState)(!1),a=Object(f.a)(o,2),u=a[0],b=a[1],j=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("init..."),e.next=3,O();case 3:return console.log("Load camera success"),e.next=6,l.a();case 6:c.current=e.sent,n.current=d.a(),console.log("Setup done"),console.log("Don't touch your face and press Train 1"),Object(h.a)({cooldown:3e3});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){return new Promise((function(n,t){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia?navigator.getUserMedia({video:!0},(function(t){e.current.srcObject=t,e.current.addEventListener("loadeddata",n)}),(function(e){return t(e)})):t()}))},m=function(){var e=Object(s.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Training your face"),t=0;case 2:if(!(t<50)){e.next=9;break}return console.log("Progress..."),e.next=6,x(n);case 6:++t,e.next=2;break;case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(t){return new Promise(function(){var r=Object(s.a)(i.a.mark((function r(o){var a;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=c.current.infer(e.current,!0),n.current.addExample(a,t),r.next=4,y(100);case 4:o();case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())},w=function(){var r=Object(s.a)(i.a.mark((function r(){var o,a;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=c.current.infer(e.current,!0),r.next=3,n.current.predictClass(o);case 3:return(a=r.sent).label===g&&a.confidences[a.label]>.8?(console.log("Touched"),t.current&&(t.current=!1,v.play()),Object(h.b)("Don't touch",{body:"You just touch your face!"}),b(!0)):(console.log("Not Touch"),b(!1)),r.next=7,y(200);case 7:w();case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(n){return setTimeout(n,e)}))};return Object(r.useEffect)((function(){return j(),v.on("end",(function(){t.current=!0})),function(){}}),[]),Object(r.useEffect)((function(){document.title="Dont Touch Your Face"}),[]),Object(p.jsxs)("div",{className:"main ".concat(u?"touched":""),children:[Object(p.jsx)("h2",{children:"Avoid touching your face while working"}),Object(p.jsx)("video",{ref:e,className:"video",autoPlay:!0}),Object(p.jsxs)("div",{className:"control",children:[Object(p.jsx)("button",{className:"btn",onClick:function(){return m("not_touch")},children:"Train Not Touch"}),Object(p.jsx)("button",{className:"btn",onClick:function(){return m(g)},children:"Train Touch"}),Object(p.jsx)("button",{className:"btn",onClick:function(){return w()},children:"Run"})]}),Object(p.jsx)("div",{className:"footer",children:Object(p.jsx)("h5",{children:"\xa92021 Le Anh Thu"})})]})},m=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,259)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,o=n.getLCP,a=n.getTTFB;t(e),r(e),c(e),o(e),a(e)}))};a.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(O,{})}),document.getElementById("root")),m()}},[[258,1,2]]]);
//# sourceMappingURL=main.42eeb32a.chunk.js.map